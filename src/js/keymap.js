export const keymap = [
  { path: 'w', icon: 'â˜€ï¸', title: 'weather' },
  { path: 'wq', icon: 'â›…', title: 'partly sunny' },
  { path: 'ww', icon: 'â˜€ï¸', title: 'sunny' },
  { path: 'we', icon: 'â˜”', title: 'rainy' },
  { path: 'wa', icon: 'â˜ï¸', title: 'cloudy' },
  { path: 'ws', icon: 'â„ï¸', title: 'snowflake' },
  { path: 'wd', icon: 'â›„', title: 'snowman' },
  { path: 'wy', icon: 'âš¡', title: 'lightning' },
  { path: 'wx', icon: 'ðŸŒ€', title: 'cyclone' },
  { path: 'wc', icon: 'ðŸŒ', title: 'foggy' },
  { path: 'a', icon: 'ðŸ°', title: 'animal' },
  { path: 'aa', icon: 'ðŸ¶', title: 'mamals' },
  { path: 'aac', icon: 'ðŸ†', title: 'cat' },
  { path: 'aacc', icon: 'ðŸˆ', title: 'housecat' },
  { path: 'aacs', icon: 'ðŸ†', title: 'leopard' },
  { path: 'aaca', icon: 'ðŸ¯', title: 'tiger' },
  { path: 'aad', icon: 'ðŸ¶', title: 'dog' },
  { path: 'aadd', icon: 'ðŸ¶', title: 'boxer' },
  { path: 'aadr', icon: 'ðŸ©', title: 'poodle' },
  { path: 'aawd', icon: 'ðŸ¬', title: 'dolphin' },
  { path: 'aw', icon: 'ðŸŠ', title: 'reptile' },
  { path: 'awd', icon: 'ðŸ¸', title: 'frog' },
  { path: 'awc', icon: 'ðŸŠ', title: 'crocodile' },
  { path: 'awe', icon: 'ðŸ‰', title: 'dragon' }

  /*,
  { path: 'amm', icon: 'ðŸ­', title: 'mouse' },
  { path: 'amh', icon: 'ðŸ¹', title: 'hamster' },
  { path: 'amr', icon: 'ðŸ°', title: 'rabbit' },
  { path: 'amw', icon: 'ðŸº', title: 'wolf' },
  { path: 'aqq', icon: 'ðŸ¨', title: 'koala' },
  { path: 'aqq', icon: 'ðŸ»', title: 'bear' },
  { path: 'aqq', icon: 'ðŸ·', title: 'pig' },
  { path: 'aqq', icon: 'ðŸ½', title: 'pig_nose' },
  { path: 'aqq', icon: 'ðŸ®', title: 'cow' },
  { path: 'aqq', icon: 'ðŸ—', title: 'boar' },
  { path: 'aqq', icon: 'ðŸµ', title: 'monkey_face' },
  { path: 'aqq', icon: 'ðŸ’', title: 'monkey' },
  { path: 'aqq', icon: 'ðŸ´', title: 'horse' },
  { path: 'aqq', icon: 'ðŸŽ', title: 'racehorse' },
  { path: 'aqq', icon: 'ðŸ«', title: 'camel' },
  { path: 'aqq', icon: 'ðŸ‘', title: 'sheep' },
  { path: 'aqq', icon: 'ðŸ˜', title: 'elephant' },
  { path: 'aqq', icon: 'ðŸ¼', title: 'panda_face' },
  { path: 'aqq', icon: 'ðŸ', title: 'snake' },
  { path: 'aqq', icon: 'ðŸ¦', title: 'bird' },
  { path: 'aqq', icon: 'ðŸ¤', title: 'baby_chick' },
  { path: 'aqq', icon: 'ðŸ¥', title: 'hatched_chick' },
  { path: 'aqq', icon: 'ðŸ£', title: 'hatching_chick' },
  { path: 'aqq', icon: 'ðŸ”', title: 'chicken' },
  { path: 'aqq', icon: 'ðŸ§', title: 'penguin' },
  { path: 'aqq', icon: 'ðŸ¢', title: 'turtle' },
  { path: 'aqq', icon: 'ðŸ›', title: 'bug' },
  { path: 'aqq', icon: 'ðŸ', title: 'honeybee' },
  { path: 'aqq', icon: 'ðŸœ', title: 'ant' },
  { path: 'aqq', icon: 'ðŸž', title: 'beetle' },
  { path: 'aqq', icon: 'ðŸŒ', title: 'snail' },
  { path: 'aqq', icon: 'ðŸ™', title: 'octopus' },
  { path: 'aqq', icon: 'ðŸ ', title: 'tropical_fish' },
  { path: 'aqq', icon: 'ðŸŸ', title: 'fish' },
  { path: 'aqq', icon: 'ðŸ³', title: 'whale' },
  { path: 'aqq', icon: 'ðŸ‹', title: 'whale2' },
  { path: 'aqq', icon: 'ðŸ¬', title: 'dolphin' },
  { path: 'aqq', icon: 'ðŸ„', title: 'cow2' },
  { path: 'aqq', icon: 'ðŸ', title: 'ram' },
  { path: 'aqq', icon: 'ðŸ€', title: 'rat' },
  { path: 'aqq', icon: 'ðŸƒ', title: 'water_buffalo' },
  { path: 'aqq', icon: 'ðŸ…', title: 'tiger2' },
  { path: 'aqq', icon: 'ðŸ‡', title: 'rabbit2' },
  { path: 'aqq', icon: 'ðŸ', title: 'goat' },
  { path: 'aqq', icon: 'ðŸ“', title: 'rooster' },
  { path: 'aqq', icon: 'ðŸ•', title: 'dog2' },
  { path: 'aqq', icon: 'ðŸ–', title: 'pig2' },
  { path: 'aqq', icon: 'ðŸ', title: 'mouse2' },
  { path: 'aqq', icon: 'ðŸ‚', title: 'ox' },
  { path: 'aqq', icon: 'ðŸ¡', title: 'blowfish' },
  { path: 'qqq', icon: 'ðŸ¾', title: 'paw_prints' },
  { path: 'qqq', icon: 'ðŸ’', title: 'bouquet' },
  { path: 'qqq', icon: 'ðŸŒ¸', title: 'cherry_blossom' },
  { path: 'qqq', icon: 'ðŸŒ·', title: 'tulip' },
  { path: 'qqq', icon: 'ðŸ€', title: 'four_leaf_clover' },
  { path: 'qqq', icon: 'ðŸŒ¹', title: 'rose' },
  { path: 'qqq', icon: 'ðŸŒ»', title: 'sunflower' },
  { path: 'qqq', icon: 'ðŸŒº', title: 'hibiscus' },
  { path: 'qqq', icon: 'ðŸ', title: 'maple_leaf' },
  { path: 'qqq', icon: 'ðŸƒ', title: 'leaves' },
  { path: 'qqq', icon: 'ðŸ‚', title: 'fallen_leaf' },
  { path: 'qqq', icon: 'ðŸŒ¿', title: 'herb' },
  { path: 'qqq', icon: 'ðŸ„', title: 'mushroom' },
  { path: 'qqq', icon: 'ðŸŒµ', title: 'cactus' },
  { path: 'qqq', icon: 'ðŸŒ´', title: 'palm_tree' },
  { path: 'qqq', icon: 'ðŸŒ²', title: 'evergreen_tree' },
  { path: 'qqq', icon: 'ðŸŒ³', title: 'deciduous_tree' },
  { path: 'qqq', icon: 'ðŸŒ°', title: 'chestnut' },
  { path: 'qqq', icon: 'ðŸŒ±', title: 'seedling' },
  { path: 'qqq', icon: 'ðŸŒ¼', title: 'blossom' },
  { path: 'qqq', icon: 'ðŸŒ¾', title: 'ear_of_rice' },
  { path: 'qqq', icon: 'ðŸš', title: 'shell' },
  { path: 'qqq', icon: 'ðŸŒ', title: 'globe_with_meridians' },
  { path: 'qqq', icon: 'ðŸŒž', title: 'sun_with_face' },
  { path: 'qqq', icon: 'ðŸŒ', title: 'full_moon_with_face' },
  { path: 'qqq', icon: 'ðŸŒš', title: 'new_moon_with_face' },
  { path: 'qqq', icon: 'ðŸŒ‘', title: 'new_moon' },
  { path: 'qqq', icon: 'ðŸŒ’', title: 'waxing_crescent_moon' },
  { path: 'qqq', icon: 'ðŸŒ“', title: 'first_quarter_moon' },
  { path: 'qqq', icon: 'ðŸŒ”', title: 'waxing_gibbous_moon' },
  { path: 'qqq', icon: 'ðŸŒ•', title: 'full_moon' },
  { path: 'qqq', icon: 'ðŸŒ–', title: 'waning_gibbous_moon' },
  { path: 'qqq', icon: 'ðŸŒ—', title: 'last_quarter_moon' },
  { path: 'qqq', icon: 'ðŸŒ˜', title: 'waning_crescent_moon' },
  { path: 'qqq', icon: 'ðŸŒœ', title: 'last_quarter_moon_with_face' },
  { path: 'qqq', icon: 'ðŸŒ›', title: 'first_quarter_moon_with_face' },
  { path: 'qqq', icon: 'ðŸŒ”', title: 'moon' },
  { path: 'qqq', icon: 'ðŸŒ', title: 'earth_africa' },
  { path: 'qqq', icon: 'ðŸŒŽ', title: 'earth_americas' },
  { path: 'qqq', icon: 'ðŸŒ', title: 'earth_asia' },
  { path: 'qqq', icon: 'ðŸŒ‹', title: 'volcano' },
  { path: 'qqq', icon: 'ðŸŒŒ', title: 'milky_way' },
  { path: 'qqq', icon: 'ðŸŒŠ', title: 'ocean' },
  */
].sort((a, b) => a.path.length - b.path.length)

export const keyTree = {}

for (const { path, ...value } of keymap) {
  setKey(value, path)
}

function setKey (value, path, parent = keyTree) {
  const seg = Array.isArray(path) ? path : path.split('')
  const [key, ...subkey] = seg
  if (subkey.length === 0) {
    parent.keys = parent.keys || {}
    parent.keys[key] = value
  } else {
    parent.keys = parent.keys || {}
    parent.keys[key] = parent.keys[key] || {}
    setKey (value, subkey, parent.keys[key])
  }
}

export function getNode (path = []) {
  const segments = Array.isArray(path) ? path : path.split('')
  let node = keyTree
  for (const key of segments) {
    node = node.keys[key]
  }
  return node
}
